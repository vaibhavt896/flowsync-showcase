/* Apple Liquid Glass Design System */

:root {
  /* Liquid Glass Core Variables */
  --glass-primary: rgba(255, 255, 255, 0.1);
  --glass-secondary: rgba(255, 255, 255, 0.05);
  --glass-tertiary: rgba(255, 255, 255, 0.02);
  --glass-border: rgba(255, 255, 255, 0.2);
  --glass-highlight: rgba(255, 255, 255, 0.3);
  
  /* Dynamic Blur Levels */
  --blur-light: blur(20px);
  --blur-medium: blur(40px);
  --blur-heavy: blur(60px);
  --blur-extreme: blur(100px);
  
  /* Glass Depth Shadows - Enhanced */
  --shadow-glass-sm: 
    0 4px 32px rgba(0, 0, 0, 0.1),
    0 1px 0 rgba(255, 255, 255, 0.1) inset,
    0 -1px 0 rgba(0, 0, 0, 0.1) inset;
  --shadow-glass-md: 
    0 8px 64px rgba(0, 0, 0, 0.15),
    0 2px 0 rgba(255, 255, 255, 0.15) inset,
    0 -2px 0 rgba(0, 0, 0, 0.1) inset;
  --shadow-glass-lg: 
    0 16px 96px rgba(0, 0, 0, 0.2),
    0 4px 0 rgba(255, 255, 255, 0.2) inset,
    0 -4px 0 rgba(0, 0, 0, 0.15) inset;
  --shadow-glass-xl: 
    0 32px 128px rgba(0, 0, 0, 0.25),
    0 8px 0 rgba(255, 255, 255, 0.25) inset,
    0 -8px 0 rgba(0, 0, 0, 0.2) inset;
  
  /* Fluid Animation Timings */
  --timing-instant: 0.1s;
  --timing-fast: 0.2s;
  --timing-smooth: 0.4s;
  --timing-fluid: 0.6s;
  --timing-luxurious: 1.2s;
  
  /* Spring Physics */
  --spring-gentle: cubic-bezier(0.16, 1, 0.3, 1);
  --spring-bouncy: cubic-bezier(0.68, -0.55, 0.265, 1.55);
  --spring-precise: cubic-bezier(0.4, 0, 0.2, 1);
  --spring-natural: cubic-bezier(0.25, 0.46, 0.45, 0.94);
  
  /* Interactive States */
  --glass-hover: rgba(255, 255, 255, 0.15);
  --glass-active: rgba(255, 255, 255, 0.25);
  --glass-focus: rgba(255, 255, 255, 0.2);
  
  /* Color Temperature Shifts */
  --temp-cool: hsl(220, 15%, 95%);
  --temp-neutral: hsl(0, 0%, 95%);
  --temp-warm: hsl(25, 15%, 95%);
}

/* Dark Mode Adjustments */
.dark {
  --glass-primary: rgba(255, 255, 255, 0.08);
  --glass-secondary: rgba(255, 255, 255, 0.04);
  --glass-tertiary: rgba(255, 255, 255, 0.02);
  --glass-border: rgba(255, 255, 255, 0.12);
  --glass-highlight: rgba(255, 255, 255, 0.18);
  
  --glass-hover: rgba(255, 255, 255, 0.12);
  --glass-active: rgba(255, 255, 255, 0.16);
  --glass-focus: rgba(255, 255, 255, 0.14);
  
  --temp-cool: hsl(220, 15%, 10%);
  --temp-neutral: hsl(0, 0%, 10%);
  --temp-warm: hsl(25, 15%, 10%);
}

/* Base Liquid Glass Surface */
.glass-surface {
  background: var(--glass-primary);
  backdrop-filter: var(--blur-medium);
  -webkit-backdrop-filter: var(--blur-medium);
  border: 1px solid var(--glass-border);
  border-radius: 24px;
  position: relative;
  overflow: hidden;
  transition: all var(--timing-smooth) var(--spring-gentle);
}

/* Enhanced Glass Surface with Depth */
.glass-surface-enhanced {
  @apply glass-surface;
  background: linear-gradient(
    135deg,
    var(--glass-primary) 0%,
    var(--glass-secondary) 50%,
    var(--glass-tertiary) 100%
  );
  box-shadow: 
    var(--shadow-glass-md),
    inset 0 1px 0 var(--glass-highlight);
}

/* Interactive Glass Surface */
.glass-interactive {
  @apply glass-surface-enhanced;
  cursor: pointer;
  transform: translateZ(0);
  will-change: transform, backdrop-filter, background;
}

.glass-interactive:hover {
  background: linear-gradient(
    135deg,
    var(--glass-hover) 0%,
    var(--glass-primary) 50%,
    var(--glass-secondary) 100%
  );
  backdrop-filter: var(--blur-light);
  -webkit-backdrop-filter: var(--blur-light);
  transform: translateY(-2px) scale(1.01);
  box-shadow: 
    var(--shadow-glass-lg),
    inset 0 1px 0 var(--glass-highlight);
}

.glass-interactive:active {
  background: var(--glass-active);
  transform: translateY(0) scale(0.98);
  transition: all var(--timing-fast) var(--spring-precise);
  backdrop-filter: var(--blur-heavy);
  -webkit-backdrop-filter: var(--blur-heavy);
}

/* Liquid Glass Button */
.glass-button {
  @apply glass-interactive;
  padding: 12px 24px;
  border-radius: 16px;
  font-weight: 500;
  font-size: 14px;
  letter-spacing: -0.01em;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  min-height: 44px;
  position: relative;
  overflow: hidden;
}

.glass-button::before {
  content: '';
  position: absolute;
  inset: 0;
  background: linear-gradient(
    90deg,
    transparent,
    var(--glass-highlight),
    transparent
  );
  opacity: 0;
  transform: translateX(-100%);
  transition: all var(--timing-smooth) var(--spring-gentle);
}

.glass-button:hover::before {
  opacity: 1;
  transform: translateX(100%);
  transition: all var(--timing-fluid) var(--spring-gentle);
}

/* Primary Glass Button */
.glass-button-primary {
  @apply glass-button;
  background: linear-gradient(
    135deg,
    rgba(59, 130, 246, 0.4) 0%,
    rgba(37, 99, 235, 0.3) 100%
  );
  color: white;
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
}

.glass-button-primary:hover {
  background: linear-gradient(
    135deg,
    rgba(59, 130, 246, 0.6) 0%,
    rgba(37, 99, 235, 0.5) 100%
  );
}

/* Glass Card */
.glass-card {
  @apply glass-surface-enhanced;
  padding: 24px;
  border-radius: 20px;
  position: relative;
}

.glass-card::before {
  content: '';
  position: absolute;
  inset: 0;
  background: linear-gradient(
    135deg,
    var(--glass-highlight) 0%,
    transparent 50%
  );
  opacity: 0;
  border-radius: inherit;
  transition: opacity var(--timing-smooth) var(--spring-gentle);
}

.glass-card:hover::before {
  opacity: 1;
}

/* Liquid Glass Navigation */
.glass-nav {
  @apply glass-surface-enhanced;
  padding: 8px;
  border-radius: 20px;
  display: flex;
  gap: 4px;
}

.glass-nav-item {
  @apply glass-interactive;
  padding: 12px 16px;
  border-radius: 12px;
  font-weight: 500;
  font-size: 14px;
  text-decoration: none;
  position: relative;
  transition: all var(--timing-smooth) var(--spring-bouncy);
}

.glass-nav-item.active {
  background: var(--glass-active);
  backdrop-filter: var(--blur-light);
  -webkit-backdrop-filter: var(--blur-light);
  transform: scale(1.05);
  box-shadow: var(--shadow-glass-sm);
}

/* Morphing Glass Container */
.glass-morph {
  background: var(--glass-primary);
  backdrop-filter: var(--blur-medium);
  -webkit-backdrop-filter: var(--blur-medium);
  border: 1px solid var(--glass-border);
  border-radius: 24px;
  transition: all var(--timing-luxurious) var(--spring-natural);
  position: relative;
  overflow: hidden;
}

.glass-morph[data-morph="expanded"] {
  border-radius: 32px;
  backdrop-filter: var(--blur-light);
  -webkit-backdrop-filter: var(--blur-light);
  transform: scale(1.02);
}

.glass-morph[data-morph="focused"] {
  border-radius: 40px;
  backdrop-filter: var(--blur-heavy);
  -webkit-backdrop-filter: var(--blur-heavy);
  background: linear-gradient(
    135deg,
    var(--glass-primary) 0%,
    var(--glass-highlight) 100%
  );
}

/* Ambient Glass Lighting */
.glass-ambient {
  position: relative;
}

.glass-ambient::after {
  content: '';
  position: absolute;
  inset: -20px;
  background: radial-gradient(
    circle at 50% 0%,
    var(--glass-highlight) 0%,
    transparent 70%
  );
  opacity: 0;
  transition: opacity var(--timing-fluid) var(--spring-gentle);
  pointer-events: none;
  z-index: -1;
}

.glass-ambient:hover::after {
  opacity: 1;
}

/* Elastic Animations */
@keyframes liquidRipple {
  0% {
    transform: scale(0);
    opacity: 1;
  }
  100% {
    transform: scale(2);
    opacity: 0;
  }
}

.liquid-ripple {
  position: relative;
  overflow: hidden;
}

.liquid-ripple::after {
  content: '';
  position: absolute;
  width: 100px;
  height: 100px;
  background: var(--glass-highlight);
  border-radius: 50%;
  transform: scale(0);
  opacity: 0;
  pointer-events: none;
}

.liquid-ripple:active::after {
  animation: liquidRipple 0.6s var(--spring-gentle);
}

/* Dynamic Blur Intensity */
.blur-dynamic {
  backdrop-filter: var(--blur-medium);
  -webkit-backdrop-filter: var(--blur-medium);
  transition: backdrop-filter var(--timing-smooth) var(--spring-gentle);
}

.blur-dynamic[data-intensity="light"] {
  backdrop-filter: var(--blur-light);
  -webkit-backdrop-filter: var(--blur-light);
}

.blur-dynamic[data-intensity="heavy"] {
  backdrop-filter: var(--blur-heavy);
  -webkit-backdrop-filter: var(--blur-heavy);
}

.blur-dynamic[data-intensity="extreme"] {
  backdrop-filter: var(--blur-extreme);
  -webkit-backdrop-filter: var(--blur-extreme);
}

/* Responsive Glass Scaling */
@media (max-width: 768px) {
  .glass-surface {
    border-radius: 20px;
  }
  
  .glass-card {
    padding: 20px;
    border-radius: 16px;
  }
  
  .glass-button {
    min-height: 40px;
    padding: 10px 20px;
    border-radius: 12px;
  }
}

/* Performance Optimizations */
.glass-surface,
.glass-interactive,
.glass-morph {
  transform: translateZ(0);
  will-change: transform, backdrop-filter, background;
}

/* Advanced Light Reflections */
.glass-reflection {
  position: relative;
  overflow: hidden;
}

.glass-reflection::before {
  content: '';
  position: absolute;
  inset: 0;
  background: linear-gradient(
    45deg,
    transparent 0%,
    rgba(255, 255, 255, 0.1) 25%,
    rgba(255, 255, 255, 0.2) 50%,
    rgba(255, 255, 255, 0.1) 75%,
    transparent 100%
  );
  opacity: 0;
  transform: translateX(-100%) translateY(-100%) rotate(45deg);
  transition: all var(--timing-fluid) var(--spring-gentle);
  pointer-events: none;
  z-index: 1;
}

.glass-reflection:hover::before {
  opacity: 1;
  transform: translateX(100%) translateY(100%) rotate(45deg);
  transition: all var(--timing-luxurious) var(--spring-natural);
}

/* Layered Glass Depth */
.glass-layered {
  position: relative;
}

.glass-layered::after {
  content: '';
  position: absolute;
  inset: 2px;
  background: inherit;
  backdrop-filter: var(--blur-light);
  -webkit-backdrop-filter: var(--blur-light);
  border-radius: inherit;
  opacity: 0.5;
  z-index: -1;
}

/* Environmental Lighting Response */
.glass-environment-aware {
  transition: all var(--timing-smooth) var(--spring-gentle);
}

@media (prefers-color-scheme: light) {
  .glass-environment-aware {
    --glass-primary: rgba(255, 255, 255, 0.15);
    --glass-border: rgba(255, 255, 255, 0.3);
  }
}

@media (prefers-color-scheme: dark) {
  .glass-environment-aware {
    --glass-primary: rgba(255, 255, 255, 0.06);
    --glass-border: rgba(255, 255, 255, 0.1);
  }
}

/* Time-based Ambience */
.glass-time-aware {
  transition: all var(--timing-luxurious) ease-in-out;
}

.glass-time-aware[data-time="morning"] {
  --glass-primary: rgba(255, 230, 200, 0.1);
  --glass-highlight: rgba(255, 215, 160, 0.3);
}

.glass-time-aware[data-time="afternoon"] {
  --glass-primary: rgba(230, 240, 255, 0.1);
  --glass-highlight: rgba(200, 220, 255, 0.3);
}

.glass-time-aware[data-time="evening"] {
  --glass-primary: rgba(255, 200, 230, 0.1);
  --glass-highlight: rgba(255, 160, 215, 0.3);
}

.glass-time-aware[data-time="night"] {
  --glass-primary: rgba(200, 200, 255, 0.08);
  --glass-highlight: rgba(160, 160, 255, 0.2);
}

/* Enhanced Depth Perception */
.glass-depth-enhanced {
  perspective: 1000px;
  transform-style: preserve-3d;
}

.glass-depth-layer {
  transform: translateZ(var(--layer-depth, 0px));
  transition: transform var(--timing-smooth) var(--spring-gentle);
}

.glass-depth-layer:hover {
  transform: translateZ(calc(var(--layer-depth, 0px) + 10px));
}

/* Atmospheric Particles Integration */
.glass-atmospheric {
  position: relative;
  overflow: visible;
}

.glass-atmospheric::before {
  content: '';
  position: absolute;
  inset: -20px;
  background: 
    radial-gradient(circle at 20% 50%, rgba(255,255,255,0.05) 0%, transparent 50%),
    radial-gradient(circle at 80% 50%, rgba(255,255,255,0.05) 0%, transparent 50%);
  opacity: 0;
  animation: atmospheric-float 8s ease-in-out infinite;
  pointer-events: none;
  z-index: -1;
}

.glass-atmospheric:hover::before {
  opacity: 1;
}

@keyframes atmospheric-float {
  0%, 100% { transform: translateY(0px) scale(1); }
  50% { transform: translateY(-5px) scale(1.02); }
}

/* Interactive Response Enhancement */
.glass-interactive-enhanced {
  --response-strength: 1;
  transition: all var(--timing-smooth) var(--spring-bouncy);
}

.glass-interactive-enhanced:hover {
  transform: 
    translateY(calc(-2px * var(--response-strength))) 
    scale(calc(1 + 0.02 * var(--response-strength)));
  box-shadow: 
    var(--shadow-glass-lg),
    0 0 40px rgba(255, 255, 255, calc(0.1 * var(--response-strength)));
}

.glass-interactive-enhanced:active {
  --response-strength: 0.5;
  transform: 
    translateY(calc(1px * var(--response-strength))) 
    scale(calc(1 - 0.02 * var(--response-strength)));
  transition: all var(--timing-fast) var(--spring-precise);
}

/* Proximity-based Glow */
.glass-proximity-glow {
  position: relative;
}

.glass-proximity-glow::after {
  content: '';
  position: absolute;
  inset: 0;
  border-radius: inherit;
  background: radial-gradient(
    circle at var(--mouse-x, 50%) var(--mouse-y, 50%),
    rgba(255, 255, 255, 0.15) 0%,
    transparent 50%
  );
  opacity: 0;
  transition: opacity var(--timing-smooth) var(--spring-gentle);
  pointer-events: none;
  z-index: 1;
}

.glass-proximity-glow:hover::after {
  opacity: 1;
}

/* Reduced Motion Support */
@media (prefers-reduced-motion: reduce) {
  .glass-surface,
  .glass-interactive,
  .glass-morph,
  .glass-nav-item,
  .glass-reflection,
  .glass-time-aware,
  .glass-depth-layer,
  .glass-interactive-enhanced {
    transition: none;
    animation: none;
  }
  
  .glass-interactive:hover,
  .glass-interactive-enhanced:hover,
  .glass-depth-layer:hover {
    transform: none;
  }
  
  .glass-reflection::before,
  .glass-atmospheric::before {
    display: none;
  }
}